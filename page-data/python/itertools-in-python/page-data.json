{"componentChunkName":"component---src-templates-blog-post-js","path":"/python/itertools-in-python/","result":{"data":{"site":{"siteMetadata":{"title":"JooWorld","author":"hangjoo","siteUrl":"https://hangjoo.github.io","comment":{"disqusShortName":"","utterances":"hangjoo/utterances-comment"},"sponsor":{"buyMeACoffeeId":"jbee"}}},"markdownRemark":{"id":"a7b1e47b-61c7-5af8-81d6-e1fabc4b78c2","excerpt":"Introduction 파이썬에서 기본으로 제공하는 모듈로, 이터레이터(iterator)와 관련된 기능을 제공합니다. 인자로 전달된 반복가능한 객체를 기반으로 무한히 반복하는 이터레이터를 생성하거나 특정 기능이 적용된 이터레이터를 생성할 수 있습니다. 예를 들어, itertools에서 제공하는 함수 중  함수는 x부터 하나씩 순차적으로 증가하는 이터레이터를 반환합니다. itertools…","html":"<h1 id=\"introduction\" style=\"position:relative;\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h1>\n<p>파이썬에서 기본으로 제공하는 모듈로, <strong>이터레이터(iterator)</strong>와 관련된 기능을 제공합니다. 인자로 전달된 <strong>반복가능한 객체</strong>를 기반으로 무한히 반복하는 이터레이터를 생성하거나 특정 기능이 적용된 이터레이터를 생성할 수 있습니다. 예를 들어, itertools에서 제공하는 함수 중 <code class=\"language-text\">count(x)</code> 함수는 x부터 하나씩 순차적으로 증가하는 이터레이터를 반환합니다.</p>\n<p>itertools에서 제공하는 함수들은 <strong>빠르고 메모리 효율적</strong>으로 동작하도록 구현되어 있어 이터레이터 관련해서 작업이 필요할 때 성능에 대한 고민 없이 itertools에서 제공하는 기능의 조합으로 빠르게 구현할 수 있습니다.</p>\n<h2 id=\"iterable-and-iterator\" style=\"position:relative;\"><a href=\"#iterable-and-iterator\" aria-label=\"iterable and iterator permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Iterable and Iterator</h2>\n<p>파이썬에서 <strong>iterable</strong>은 반복 가능한 혹은 반복 가능한 객체를 의미합니다. 대표적인 반복 가능한 객체(Iterable Object)는 리스트, 문자열, 튜플 등이 있습니다. 이러한 반복가능한 객체는 <code class=\"language-text\">iter(iterable)</code> 함수를 통해 <strong>이터레이터(Iterator)</strong>로 변환할 수 있습니다. <code class=\"language-text\">iter()</code> 함수는 인자로 전달된 반복 가능한 객체 내부의 매직 메소드인 <code class=\"language-text\">__iter__</code> 함수를 호출하여 이터레이터를 생성합니다. 만약 <code class=\"language-text\">__iter__</code> 함수가 정의되어 있지 않은 경우 또 다른 매직 메소드인 <code class=\"language-text\">__getitem__</code>을 호출하여 첫 번째 인덱스부터 순차적으로 요소를 꺼내옵니다.</p>\n<p>이렇게 생성된 이터레이터는 <code class=\"language-text\">next(iterator)</code> 함수를 통해 순차적으로 객체 내부의 요소에 접근할 수 있습니다. <code class=\"language-text\">next()</code>를 사용하여 호출된 이터레이터는 클래스 내부에 구현된 매직 메소드 <code class=\"language-text\">__next__</code>를 호출하여 객체 내부의 요소에 접근합니다. <code class=\"language-text\">next()</code> 함수를 사용하여 이터레이터의 모든 요소를 꺼낸 뒤 한 번 더 호출하면 <code class=\"language-text\">StopIteration</code> 예외를 발생시킵니다.</p>\n<p>아래는 하나의 리스트를 생성하고, 이를 이터레이터로 변한한 뒤 모든 요소를 꺼낸 뒤 발생된 예외를 확인하는 코드입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">a_list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span>\na_iterator <span class=\"token operator\">=</span> <span class=\"token builtin\">iter</span><span class=\"token punctuation\">(</span>a_list<span class=\"token punctuation\">)</span>\n\n<span class=\"token builtin\">next</span><span class=\"token punctuation\">(</span>a_iter<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 1</span>\n<span class=\"token builtin\">next</span><span class=\"token punctuation\">(</span>a_iter<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 2</span>\n<span class=\"token builtin\">next</span><span class=\"token punctuation\">(</span>a_iter<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 3</span>\n<span class=\"token builtin\">next</span><span class=\"token punctuation\">(</span>a_iter<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 4</span>\n<span class=\"token builtin\">next</span><span class=\"token punctuation\">(</span>a_iter<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 5</span>\n<span class=\"token builtin\">next</span><span class=\"token punctuation\">(</span>a_iter<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># StopIternation 예외 발생</span></code></pre></div>\n<h1 id=\"functions\" style=\"position:relative;\"><a href=\"#functions\" aria-label=\"functions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Functions</h1>\n<p><strong>itertools</strong>에서 제공하는 함수들은 아래와 같습니다.</p>\n<h2 id=\"accumulateiterable-funcoperatoradd--initialnone\" style=\"position:relative;\"><a href=\"#accumulateiterable-funcoperatoradd--initialnone\" aria-label=\"accumulateiterable funcoperatoradd  initialnone permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>accumulate(iterable, func=operator.add, *, initial=None)</h2>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> itertools <span class=\"token keyword\">import</span> accumulate\n\naccumulate<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>                <span class=\"token comment\"># 1   3   6   10  15</span>\naccumulate<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> initial<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\"># 100 101 103 106 110 115</span>\naccumulate<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> operator<span class=\"token punctuation\">.</span>mul<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 1   2   6   24  120</span></code></pre></div>\n<p><code class=\"language-text\">iterable</code> 인자에 대해 계산된 함수 <code class=\"language-text\">func</code>의 누적 결과를 반환하는 이터레이터를 반환합니다.</p>\n<p>func로 전달되는 함수는 두 개의 인자를 전달 받는 함수로 첫 번째 인자에 현재 누적 결과와 두 번째 인자에 새롭게 누적할 iterable 인자의 항목이 전달됩니다. func의 기본 인자인 operator.add는 두 인자의 덧셈 결과를 반환하는 함수입니다.</p>\n<p><code class=\"language-text\">initial</code> 인자가 전달되는 경우 initial 값부터 누적이 시작되어 반환된 이터레이터가 iterable보다 요소가 하나 더 많고, 기본 값인 None인 경우 iterable의 첫 번째 요소를 누적 결과 시작으로 사용합니다.</p>\n<h2 id=\"chainiterables\" style=\"position:relative;\"><a href=\"#chainiterables\" aria-label=\"chainiterables permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>chain(*iterables)</h2>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> itertools <span class=\"token keyword\">import</span> chain\n\n<span class=\"token comment\"># case 1</span>\nchain<span class=\"token punctuation\">(</span><span class=\"token string\">\"abc\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"x\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"y\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"z\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># a b c 1 2 3 x y z</span>\n\n<span class=\"token comment\"># case 2</span>\narray_2d <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\nchain<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>array_2d<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 0 1 2 3 4 5 6 7 8 9</span></code></pre></div>\n<p>첫 번째로 전달된 반복가능한 객체에서 요소를 꺼내고 모든 요소를 꺼내면 다음 객체로 넘어가 요소를 꺼내오는 이터레이터를 생성합니다. 보통 여러 시퀀스를 하나로 연결한 단일 시퀀스처럼 처리하는 경우 사용합니다.</p>","frontmatter":{"title":"Itertools in Python","date":"January 25, 2023"}}},"pageContext":{"slug":"/python/itertools-in-python/","previous":null,"next":null}}}